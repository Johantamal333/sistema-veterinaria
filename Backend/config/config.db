const dotenv = require("dotenv");
dotenv.config(); // Cargar las variables de entorno

const mysql = require("mysql");

let connection;

try {
    connection = mysql.createConnection({
        host: process.env.DB_HOST,     // ✔ Nombre corregido
        user: process.env.DB_USER,     // ✔ Nombre corregido
        password: process.env.DB_PASSWORD, // ✔ Nombre corregido
        database: process.env.DB_NAME  // ✔ Nombre corregido
    });

    connection.connect((err) => {
        if (err) {
            console.error("❌ Error al conectar con la base de datos: ", err);
            return;
        }
        console.log("✅ Conexión exitosa a la base de datos");
    });

} catch (error) {
    console.log("❌ Error al conectar con la base de datos:", error);
}

module.exports = { connection };
